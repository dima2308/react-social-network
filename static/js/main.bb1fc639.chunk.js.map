{"version":3,"sources":["hoc/WithAuthRedirect.js","redux/messagesReducer.js","components/Footer/Footer.module.css","components/common/Preloader/Preloader.module.css","components/Profile/MyPosts/MyPosts.module.css","components/Profile/Profile.module.css","api/api.js","reportWebVitals.js","components/Footer/Footer.jsx","components/Navbar/Navbar.jsx","components/News/News.jsx","components/Music/Music.jsx","assets/images/user.jpg","components/Users/Users.jsx","components/common/Preloader/Preloader.jsx","redux/usersSelectors.js","components/Users/UsersContainer.js","redux/profileReducer.js","components/Profile/MyPosts/Post/Post.jsx","components/Profile/MyPosts/MyPosts.jsx","components/Profile/MyPosts/MyPostsContainer.jsx","components/Profile/ProfileInfo/ProfileStatusWithHooks.js","components/Profile/ProfileInfo/ProfileInfo.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.js","components/Header/Header.jsx","redux/authReducer.js","components/Header/HeaderContainer.js","components/Login/Login.jsx","redux/appReducer.js","App.js","hoc/WithSuspense.js","redux/store.js","index.js","components/Navbar/Navbar.module.css","utils/validators/validators.js","components/common/FormsControls/FormsControls.js","components/common/FormsControls/FormsControls.module.css","redux/usersReducer.js","components/Profile/ProfileInfo/ProfileInfo.module.css","components/Header/Header.module.css"],"names":["mapStateToPropsForRedirect","state","isAuth","auth","WithAuthRedirect","Component","RedirectComponent","this","props","to","React","connect","ADD_MESSAGE","initialState","dialogs","id","name","messages","message","addMessage","type","messagesReducer","action","text","module","exports","instance","axios","create","baseURL","withCredentials","headers","usersAPI","getUsers","currentPage","pageSize","get","response","data","getFollowedFlag","follow","post","unFollow","delete","getUserProfile","userId","profileAPI","authAPI","me","login","email","password","rememberMe","logout","getUserStatus","updateUserStatus","status","put","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","Footer","className","styles","footer","Navbar","nav","menu","activeClassName","activeLink","News","Music","Users","updateFollow","setFollowOrUnfollow","activePage","itemsCountPerPage","totalItemsCount","totalUsersCount","pageRangeDisplayed","onChange","onPageChanged","users","map","u","followed","disabled","isFollowing","some","onClick","width","height","alt","src","photos","small","userPhoto","Preloader","ldsSpinner","getAllUsers","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","isFetching","getisFollowing","require","followToggle","toggleIsFetching","toggleIsFollowing","UsersContainer","pageNumber","ADD_POST","DELETE_POST","SET_USER_PROFILE","SET_USER_STATUS","posts","author","newPostText","profile","setUserStatus","profileReducer","newPost","filter","p","post_id","Post","maxLength","maxLengthCreator","MyPosts","memo","postsElements","PostFormRedux","onSubmit","formData","addPost","reduxForm","form","handleSubmit","Field","component","Textarea","placeholder","validate","required","MyPostsContainer","ProfileStatusWithHooks","useState","editMode","setEditMode","setStatus","useEffect","activateEditMode","value","updateStatus","onDoubleClick","autoFocus","e","currentTarget","onBlur","ProfileInfo","wrapper","fullName","avatar","Profile","ProfileContainer","match","params","userLogined","history","push","compose","dispatch","resultCode","withRouter","Header","header","loginBlock","SET_USER_DATA","setAuthUserData","getCurrentUser","a","authReducer","HeaderContainer","console","log","LoginReduxForm","Input","htmlFor","error","stopSubmit","_error","SET_INITIALIZED","initialized","appReducer","DialogsContainer","lazy","App","initializeApp","path","render","Suspense","fallback","app","createStore","combineReducers","applyMiddleware","store","usersReducer","formReducer","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","thunkMiddleware","rerenderEntireTree","ReactDOM","StrictMode","document","getElementById","subscribe","length","input","meta","hasError","touched","formControl","SET_USERS","FOLLOW_TOGGLE","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","userID","setUsers","setCurrentPage","setTotalUsersCount","totalCount","items"],"mappings":"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","file":"static/js/main.bb1fc639.chunk.js","sourcesContent":["import { Redirect } from \"react-router-dom\"\r\nimport React from 'react'\r\nimport { connect } from \"react-redux\"\r\n\r\nlet mapStateToPropsForRedirect = (state) => ({\r\n  isAuth: state.auth.isAuth\r\n})\r\n\r\nexport const WithAuthRedirect = (Component) => {\r\n  class RedirectComponent extends React.Component {\r\n    render() {\r\n      if (!this.props.isAuth) return <Redirect to='/login' />\r\n      return <Component {...this.props} />\r\n    }\r\n  }\r\n\r\n  let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent)\r\n\r\n  return ConnectedAuthRedirectComponent\r\n}","const ADD_MESSAGE = 'ADD-MESSAGE'\r\n\r\nlet initialState = {\r\n  dialogs: [\r\n    { id: 1, name: 'Dima' },\r\n    { id: 2, name: 'Oleg' },\r\n    { id: 3, name: 'Alex' }\r\n  ],\r\n\r\n  messages: [\r\n    { id: 1, message: 'Hi' },\r\n    { id: 2, message: 'Buy' },\r\n    { id: 3, message: \"What's up?\" }\r\n  ]\r\n}\r\n\r\nconst messagesReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case ADD_MESSAGE: {\r\n      let text = action.message\r\n      return {\r\n        ...state,\r\n        messages: [...state.messages, { id: 6, message: text }]\r\n      }\r\n    }\r\n\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport const addMessage = (message) => ({ type: ADD_MESSAGE, message })\r\n\r\nexport default messagesReducer","// extracted by mini-css-extract-plugin\nmodule.exports = {\"footer\":\"Footer_footer__1q5YM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ldsSpinner\":\"Preloader_ldsSpinner__2-odv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"posts\":\"MyPosts_posts__2oZ-0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile\":\"Profile_profile__2lNm2\"};","import axios from 'axios'\r\n\r\nconst instance = axios.create({\r\n  baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n  withCredentials: true,\r\n  headers: {\r\n    'API-KEY': 'a36b0525-47dc-4bad-a78a-ef2fac9d8e5d'\r\n  }\r\n})\r\n\r\nexport const usersAPI = {\r\n  async getUsers(currentPage = 1, pageSize = 10) {\r\n    let response = await instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n    return response.data\r\n  },\r\n\r\n  async getFollowedFlag(id) {\r\n    let response = await instance.get(`follow/${id}`)\r\n    return response.data\r\n  },\r\n\r\n  async follow(id) {\r\n    let response = await instance.post(`follow/${id}`)\r\n    return response.data\r\n  },\r\n\r\n  async unFollow(id) {\r\n    let response = await instance.delete(`follow/${id}`)\r\n    return response.data\r\n  },\r\n\r\n  async getUserProfile(userId) {\r\n    return profileAPI.getUserProfile(userId)\r\n  }\r\n}\r\n\r\nexport const authAPI = {\r\n  async me() {\r\n    let response = await instance.get('auth/me')\r\n    return response.data\r\n  },\r\n\r\n  async login(email, password, rememberMe) {\r\n    let response = await instance.post('auth/login', { email, password, rememberMe })\r\n    return response.data\r\n  },\r\n\r\n  async logout() {\r\n    let response = await instance.delete('auth/login')\r\n    return response.data\r\n  }\r\n}\r\n\r\nexport const profileAPI = {\r\n  async getUserProfile(userId) {\r\n    let response = await instance.get(`profile/${userId}`)\r\n    return response.data\r\n  },\r\n\r\n  async getUserStatus(userId) {\r\n    let response = await instance.get(`profile/status/${userId}`)\r\n    return response.data\r\n  },\r\n\r\n  async updateUserStatus(status) {\r\n    let response = await instance.put(`profile/status/`, { status })\r\n    return response.data\r\n  }\r\n}","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import styles from './Footer.module.css'\r\n\r\nconst Footer = () => {\r\n  return (\r\n    <footer className={styles.footer}>\r\n      <h3>Footer</h3>\r\n    </footer>\r\n  )\r\n}\r\n\r\nexport default Footer","import { NavLink } from 'react-router-dom'\r\nimport styles from './Navbar.module.css'\r\n\r\nconst Navbar = () => {\r\n  return (\r\n    <nav className={styles.nav}>\r\n      <ul className={styles.menu}>\r\n        <li>\r\n          <NavLink activeClassName={styles.activeLink} to=\"/profile\">\r\n            Profile\r\n          </NavLink>\r\n        </li>\r\n        <li>\r\n          <NavLink activeClassName={styles.activeLink} to=\"/dialogs\">\r\n            Messages\r\n          </NavLink>\r\n        </li>\r\n        <li>\r\n          <NavLink activeClassName={styles.activeLink} to=\"/news\">\r\n            News\r\n          </NavLink>\r\n        </li>\r\n        <li>\r\n          <NavLink activeClassName={styles.activeLink} to=\"/music\">\r\n            Music\r\n          </NavLink>\r\n        </li>\r\n        <li>\r\n          <NavLink activeClassName={styles.activeLink} to=\"/users\">\r\n            Users\r\n          </NavLink>\r\n        </li>\r\n      </ul>\r\n    </nav>\r\n  )\r\n}\r\n\r\nexport default Navbar","const News = () => {\r\n  return (\r\n    <div>\r\n      News\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default News","const Music = () => {\r\n    return (\r\n        <div>\r\n            Music\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Music","export default __webpack_public_path__ + \"static/media/user.722f87a3.jpg\";","import { NavLink } from 'react-router-dom'\r\nimport userPhoto from '../../assets/images/user.jpg'\r\nimport Pagination from \"react-js-pagination\";\r\n\r\nconst Users = (props) => {\r\n  let updateFollow = (id) => {\r\n    props.setFollowOrUnfollow(id)\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Pagination activePage={props.currentPage}\r\n        itemsCountPerPage={props.pageSize}\r\n        totalItemsCount={props.totalUsersCount}\r\n        pageRangeDisplayed={5}\r\n        onChange={props.onPageChanged}\r\n      />\r\n\r\n      {\r\n        props.users.map(u =>\r\n          <div key={u.id}>\r\n            <div>\r\n              {u.followed ?\r\n                <button disabled={props.isFollowing.some(id => id === u.id)} onClick={() => updateFollow(u.id)}>Unfollow</button> :\r\n                <button disabled={props.isFollowing.some(id => id === u.id)} onClick={() => updateFollow(u.id)}>Follow</button>\r\n              }\r\n            </div>\r\n            <div>\r\n              <p>{u.name}</p>\r\n              <p>{u.status}</p>\r\n              <NavLink to={'/profile/' + u.id}>\r\n                <img width=\"80\" height=\"60\" alt=\"avatar\"\r\n                  src={u.photos.small != null ? u.photos.small : userPhoto}>\r\n                </img>\r\n              </NavLink>\r\n            </div>\r\n          </div>)\r\n      }\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Users","import styles from './Preloader.module.css'\r\n\r\nlet Preloader = () => {\r\n  return (\r\n    <div className={styles.ldsSpinner}>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Preloader","export const getAllUsers = (state) => {\r\n  return state.users.users\r\n}\r\n\r\nexport const getPageSize = (state) => {\r\n  return state.users.pageSize\r\n}\r\n\r\nexport const getTotalUsersCount = (state) => {\r\n  return state.users.totalUsersCount\r\n}\r\n\r\nexport const getCurrentPage = (state) => {\r\n  return state.users.currentPage\r\n}\r\n\r\nexport const getIsFetching = (state) => {\r\n  return state.users.isFetching\r\n}\r\n\r\nexport const getisFollowing = (state) => {\r\n  return state.users.isFollowing\r\n}","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport Users from './Users'\r\nimport Preloader from '../common/Preloader/Preloader'\r\nimport { getAllUsers, getCurrentPage, getIsFetching, getisFollowing, getPageSize, getTotalUsersCount } from '../../redux/usersSelectors'\r\nconst { getUsers, followToggle, toggleIsFetching, toggleIsFollowing, setFollowOrUnfollow } = require(\"../../redux/usersReducer\")\r\n\r\n\r\nclass UsersContainer extends React.Component {\r\n  componentDidMount() {\r\n    this.props.getUsers(this.props.currentPage, this.props.pageSize)\r\n  }\r\n\r\n  onPageChanged = (pageNumber) => {\r\n    this.props.getUsers(pageNumber, this.props.pageSize)\r\n  }\r\n\r\n  render() {\r\n    return <>\r\n      {this.props.isFetching ? <Preloader /> : null}\r\n      <Users\r\n        totalUsersCount={this.props.totalUsersCount}\r\n        pageSize={this.props.pageSize}\r\n        currentPage={this.props.currentPage}\r\n        onPageChanged={this.onPageChanged}\r\n        users={this.props.users}\r\n        isFollowing={this.props.isFollowing}\r\n        setFollowOrUnfollow={this.props.setFollowOrUnfollow} />\r\n    </>\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    users: getAllUsers(state),\r\n    pageSize: getPageSize(state),\r\n    totalUsersCount: getTotalUsersCount(state),\r\n    currentPage: getCurrentPage(state),\r\n    isFetching: getIsFetching(state),\r\n    isFollowing: getisFollowing(state)\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, {\r\n  getUsers, followToggle, toggleIsFetching, toggleIsFollowing, setFollowOrUnfollow\r\n})(UsersContainer)","import { profileAPI } from \"../api/api\"\r\n\r\nconst ADD_POST = 'ADD-POST'\r\nconst DELETE_POST = 'DELETE-POST'\r\nconst SET_USER_PROFILE = 'SET-USER-PROFILE'\r\nconst SET_USER_STATUS = 'SET-USER-STAUS'\r\nconst UPDATE_USER_STATUS = 'UPDATE-USER-STATUS'\r\n\r\nlet initialState = {\r\n  posts: [\r\n    { id: 1, message: \"Hi, all is good\", author: \"Dima\" },\r\n    { id: 2, message: \"How are you?\", author: \"Olya\" },\r\n    { id: 3, message: \"What's up?\", author: \"Oleg\" },\r\n  ],\r\n  newPostText: '',\r\n  profile: null,\r\n  status: ''\r\n}\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case ADD_POST: {\r\n      let newPost = {\r\n        id: 5,\r\n        message: action.post,\r\n        author: 'Alex'\r\n      }\r\n\r\n      return {\r\n        ...state,\r\n        posts: [...state.posts, newPost]\r\n      }\r\n    }\r\n\r\n    case SET_USER_PROFILE: {\r\n      return {\r\n        ...state, profile: action.profile\r\n      }\r\n    }\r\n\r\n    case SET_USER_STATUS || UPDATE_USER_STATUS: {\r\n      return {\r\n        ...state, status: action.status\r\n      }\r\n    }\r\n\r\n    case DELETE_POST:\r\n      return { ...state, posts: state.posts.filter(p => p.id !== action.post_id) }\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport const addPost = (post) => ({ type: ADD_POST, post })\r\nexport const deletePost = (post_id) => ({ type: DELETE_POST, post_id })\r\nconst setUserProfile = (profile) => ({ type: SET_USER_PROFILE, profile })\r\nconst setUserStatus = (status) => ({ type: SET_USER_STATUS, status })\r\n\r\nexport const getUserProfile = (userId) => {\r\n  return dispatch => {\r\n    profileAPI.getUserProfile(userId)\r\n      .then(response => dispatch(setUserProfile(response)))\r\n  }\r\n}\r\n\r\nexport const getUserStatus = (userId) => {\r\n  return dispatch => {\r\n    profileAPI.getUserStatus(userId)\r\n      .then(response => dispatch(setUserStatus(response)))\r\n  }\r\n}\r\n\r\nexport const updateUserStatus = (status) => {\r\n  return dispatch => {\r\n    profileAPI.updateUserStatus(status)\r\n      .then(response => {\r\n        if (response.resultCode === 0) {\r\n          dispatch(setUserStatus(status))\r\n        }\r\n      })\r\n  }\r\n}\r\n\r\nexport default profileReducer","const Post = (props) => {\r\n  return (\r\n    <div className=\"post\">\r\n      <p><b>{props.author}</b></p>\r\n      <p>{props.message}</p>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Post","import React from 'react'\r\nimport { Field, reduxForm } from 'redux-form'\r\nimport styles from './MyPosts.module.css'\r\nimport Post from './Post/Post'\r\nimport { maxLengthCreator, required } from './../../../utils/validators/validators'\r\nimport { Textarea } from '../../common/FormsControls/FormsControls'\r\n\r\nconst maxLength = maxLengthCreator(10)\r\n\r\nconst MyPosts = React.memo(props => {\r\n\r\n  let postsElements = props.posts\r\n    .map(p => <Post message={p.message} author={p.author} key={p.id} />)\r\n\r\n  let addPost = (formData) => {\r\n    props.addPost(formData.post)\r\n    formData.post = ''\r\n  }\r\n\r\n  return (\r\n    <div className={styles.posts}>\r\n      { postsElements}\r\n      <PostFormRedux onSubmit={addPost} />\r\n    </div>\r\n  )\r\n})\r\n\r\nconst PostForm = (props) => {\r\n  return (\r\n    <form onSubmit={props.handleSubmit}>\r\n      <Field component={Textarea} name=\"post\" placeholder=\"Text\" validate={[required, maxLength]} />\r\n      <button>Add post</button>\r\n    </form>\r\n  )\r\n}\r\n\r\nconst PostFormRedux = reduxForm({\r\n  form: \"post\"\r\n})(PostForm)\r\n\r\nexport default MyPosts","import { connect } from 'react-redux'\r\nimport { addPost } from '../../../redux/profileReducer'\r\nimport MyPosts from './MyPosts'\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    posts: state.profile.posts\r\n  }\r\n}\r\n\r\nconst MyPostsContainer = connect(mapStateToProps, { addPost })(MyPosts)\r\n\r\nexport default MyPostsContainer","import { useEffect, useState } from 'react'\r\n\r\nconst ProfileStatusWithHooks = (props) => {\r\n  let [ editMode, setEditMode ] = useState(false)\r\n  let [ status, setStatus ] = useState(props.status)\r\n\r\n  useEffect( () => {\r\n    setStatus(props.status)\r\n  }, [props.status])\r\n\r\n  const activateEditMode = (value) => {\r\n    setEditMode(value)\r\n    if (!value) {\r\n      props.updateStatus(status)\r\n    }\r\n  }\r\n\r\n  const onStatusChange = (e) => {\r\n    setStatus(e.currentTarget.value)\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      { !editMode &&\r\n        <div>\r\n          {<span onDoubleClick={() => activateEditMode(true)} >{props.status || '-----'}</span>}\r\n        </div>\r\n      }\r\n\r\n      { editMode &&\r\n        <div>\r\n          <input\r\n            autoFocus\r\n            onChange={onStatusChange}\r\n            onBlur={() => activateEditMode(false)}\r\n            value={status}\r\n             />\r\n        </div>\r\n      }\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ProfileStatusWithHooks","import styles from './ProfileInfo.module.css'\r\nimport Preloader from '../../common/Preloader/Preloader'\r\nimport avatar from '../../../assets/images/user.jpg'\r\nimport ProfileStatusWithHooks from './ProfileStatusWithHooks'\r\n\r\nconst ProfileInfo = (props) => {\r\n  if (!props.profile) {\r\n    return <Preloader />\r\n  }\r\n  return (\r\n    <div className={styles.wrapper}>\r\n      <div className={styles.name}>{props.profile.fullName}</div>\r\n      <img src={props.profile.photos.small ? props.profile.photos.small : avatar}\r\n        alt=\"avatar\" width=\"240\" height=\"320\">\r\n      </img>\r\n      <ProfileStatusWithHooks status={props.status} updateStatus={props.updateStatus} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ProfileInfo","import MyPostsContainer from './MyPosts/MyPostsContainer'\r\nimport ProfileInfo from './ProfileInfo/ProfileInfo'\r\nimport styles from './Profile.module.css'\r\n\r\nconst Profile = (props) => {\r\n  return (\r\n    <div className={styles.profile}>\r\n      <ProfileInfo profile={props.profile.profile} status={props.profile.status} updateStatus={props.updateStatus} />\r\n      <MyPostsContainer />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Profile","import React from 'react'\r\nimport Profile from './Profile'\r\nimport { connect } from 'react-redux'\r\nimport { compose } from 'redux'\r\nimport { withRouter } from 'react-router-dom'\r\nimport { getUserProfile, getUserStatus, updateUserStatus } from '../../redux/profileReducer'\r\nimport { WithAuthRedirect } from '../../hoc/WithAuthRedirect'\r\n\r\n\r\nclass ProfileContainer extends React.Component {\r\n  componentDidMount() {\r\n    let userId = this.props.match.params.userId\r\n    if (!userId) {\r\n      userId = this.props.userLogined\r\n      if (!userId) {\r\n        this.props.history.push('/login')\r\n      }\r\n    }\r\n    this.props.getUserProfile(userId)\r\n    this.props.getUserStatus(userId)\r\n  }\r\n\r\n  render() {\r\n    return <Profile\r\n      {...this.props}\r\n      profile={this.props.profile}\r\n      updateStatus={this.props.updateUserStatus} />\r\n  }\r\n}\r\n\r\nlet mapStateToProps = (state) => ({\r\n  profile: state.profile,\r\n  userLogined: state.auth.userId,\r\n  isAuth: state.auth.isAuth\r\n})\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, { getUserProfile, getUserStatus, updateUserStatus }),\r\n  withRouter,\r\n  WithAuthRedirect\r\n)\r\n  (ProfileContainer)","import { NavLink } from 'react-router-dom'\r\nimport styles from './Header.module.css'\r\n\r\nconst Header = (props) => {\r\n  const logout = () => {\r\n    props.logout()\r\n  }\r\n\r\n  return (\r\n    <header className={styles.header}>\r\n      <h1>Header</h1>\r\n      <div className={styles.loginBlock}>\r\n        {props.isAuth ? props.login : <NavLink to={'/login'}>Login</NavLink>}\r\n        <div>\r\n          {props.isAuth ? <button onClick={logout}>Logout</button> : ''}\r\n        </div>\r\n      </div>\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default Header","import { stopSubmit } from \"redux-form\"\r\nimport { authAPI } from \"../api/api\"\r\n\r\nconst SET_USER_DATA = 'SET-USER-DATA'\r\n\r\nlet initialState = {\r\n  userId: null,\r\n  email: null,\r\n  login: null,\r\n  isAuth: false\r\n}\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_USER_DATA: {\r\n      return {\r\n        ...state,\r\n        ...action.data\r\n      }\r\n    }\r\n\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nconst setAuthUserData = (userId, email, login, isAuth) => ({\r\n  type: SET_USER_DATA,\r\n  data: { userId, email, login, isAuth }\r\n})\r\n\r\nexport const getCurrentUser = () => {\r\n  return async dispatch => {\r\n    let response = await authAPI.me()\r\n    if (response.resultCode === 0) {\r\n      let { id, email, login } = response.data\r\n      dispatch(setAuthUserData(id, email, login, true))\r\n    }\r\n  }\r\n}\r\n\r\nexport const login = (email, password, rememberMe) => {\r\n  return async dispatch => {\r\n    let response = await authAPI.login(email, password, rememberMe)\r\n    if (response.resultCode === 0) {\r\n      dispatch(getCurrentUser())\r\n    } else {\r\n      dispatch(stopSubmit('login', { _error: response.messages[0] }))\r\n    }\r\n  }\r\n}\r\n\r\nexport const logout = () => {\r\n  debugger\r\n  return async dispatch => {\r\n    let response = await authAPI.logout()\r\n    if (response.resultCode === 0) {\r\n      dispatch(setAuthUserData(null, null, null, false))\r\n    }\r\n  }\r\n}\r\n\r\nexport default authReducer","import React from 'react'\r\nimport Header from './Header'\r\nimport { connect } from 'react-redux'\r\nimport { logout } from '../../redux/authReducer'\r\n\r\nclass HeaderContainer extends React.Component {\r\n  logout = () => {\r\n    console.log(this.props)\r\n    this.props.logout()\r\n  }\r\n\r\n  render() {\r\n    return <Header isAuth={this.props.isAuth} login={this.props.login} logout={this.logout} />\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  isAuth: state.auth.isAuth,\r\n  login: state.auth.login\r\n})\r\n\r\nexport default connect(mapStateToProps, { logout })(HeaderContainer)","import { connect } from 'react-redux'\r\nimport { reduxForm, Field } from 'redux-form'\r\nimport { required } from '../../utils/validators/validators'\r\nimport { Input } from '../common/FormsControls/FormsControls'\r\nimport { login } from '../../redux/authReducer'\r\nimport { Redirect } from 'react-router-dom'\r\n\r\nconst Login = (props) => {\r\n  const onSubmit = (formData) => {\r\n    let email = formData.email\r\n    let password = formData.password\r\n    let rememberMe = formData.rememberMe\r\n    props.login(email, password, rememberMe)\r\n  }\r\n\r\n  if (props.isAuth) {\r\n    return <Redirect to='/profile' />\r\n  } else {\r\n    return (\r\n      <div>\r\n        <h1>Login</h1>\r\n        <LoginReduxForm onSubmit={onSubmit} />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst LoginForm = (props) => {\r\n  return (\r\n    <form onSubmit={props.handleSubmit}>\r\n      <Field component={Input} validate={[required]} name=\"email\" placeholder=\"email\" />\r\n      <Field component={Input} type=\"password\" validate={[required]} name=\"password\" placeholder=\"Password\" />\r\n      <div>\r\n        <Field component=\"input\" name=\"rememberMe\" type=\"checkbox\" id=\"remember\" />\r\n        <label htmlFor=\"remember\">Remember me?</label>\r\n      </div>\r\n      { props.error && <div>{props.error}</div>}\r\n      <button type=\"submit\">Submit</button>\r\n    </form>\r\n  )\r\n}\r\n\r\nconst LoginReduxForm = reduxForm({\r\n  form: 'login'\r\n})(LoginForm)\r\n\r\nconst mapStateToProps = (state) => ({\r\n  isAuth: state.auth.isAuth\r\n})\r\n\r\nexport default connect(mapStateToProps, { login })(Login)","import { getCurrentUser } from \"./authReducer\"\r\n\r\nconst SET_INITIALIZED = 'SET-INITIALIZED'\r\n\r\nlet initialState = {\r\n  initialized: false\r\n}\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_INITIALIZED: {\r\n      return {\r\n        ...state,\r\n        initialized: true\r\n      }\r\n    }\r\n\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nconst setInitialized = () => ({\r\n  type: SET_INITIALIZED\r\n})\r\n\r\nexport const initializeApp = () => {\r\n  return async dispatch => {\r\n    await dispatch(getCurrentUser())\r\n    await dispatch(setInitialized())\r\n  }\r\n}\r\n\r\nexport default appReducer","import './App.css';\nimport React from 'react'\nimport { connect } from 'react-redux'\nimport Footer from './components/Footer/Footer';\nimport Navbar from './components/Navbar/Navbar';\nimport News from './components/News/News';\nimport Music from './components/Music/Music';\nimport { BrowserRouter, Route } from 'react-router-dom'\nimport UsersContainer from './components/Users/UsersContainer';\nimport ProfileContainer from './components/Profile/ProfileContainer';\nimport HeaderContainer from './components/Header/HeaderContainer';\nimport Login from './components/Login/Login';\nimport { initializeApp } from './redux/appReducer'\nimport Preloader from './components/common/Preloader/Preloader';\nimport { WithSuspense } from './hoc/WithSuspense';\n\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'))\n\nclass App extends React.Component {\n  componentDidMount() {\n    this.props.initializeApp()\n  }\n\n  render() {\n    if (!this.props.initialized) {\n      return <Preloader />\n    } else {\n      return (\n        <BrowserRouter>\n          <HeaderContainer />\n          <div className=\"app-wrapper\">\n            <Navbar />\n            <main className=\"app-wrapper-content\">\n              <Route path='/profile/:userId?' render={() => <ProfileContainer />} />\n              <Route path='/dialogs' render={WithSuspense(DialogsContainer)} />\n              <Route path='/news' component={News} />\n              <Route path='/music' component={Music} />\n              <Route path='/users' render={() => <UsersContainer />} />\n              <Route path='/login' render={() => <Login />} />\n            </main>\n          </div>\n          <Footer />\n        </BrowserRouter>\n      )\n    }\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  initialized: state.app.initialized\n})\n\nexport default connect(mapStateToProps, { initializeApp })(App)","import React from 'react'\r\n\r\nexport const WithSuspense = (Component) => {\r\n  return (props) => {\r\n    return (\r\n      <React.Suspense fallback={<div>Loading...</div>}>\r\n        <Component {...props} />\r\n      </React.Suspense>\r\n    )\r\n  }\r\n}","import authReducer from \"./authReducer\";\r\nimport messagesReducer from \"./messagesReducer\";\r\nimport profileReducer from \"./profileReducer\";\r\nimport usersReducer from \"./usersReducer\";\r\nimport thunkMiddleware from 'redux-thunk'\r\nimport { reducer as formReducer } from 'redux-form'\r\nimport appReducer from \"./appReducer\";\r\n\r\nconst { createStore, combineReducers, applyMiddleware, compose } = require(\"redux\");\r\n\r\nlet reducers = combineReducers({\r\n  profile: profileReducer,\r\n  messages: messagesReducer,\r\n  users: usersReducer,\r\n  auth: authReducer,\r\n  app: appReducer,\r\n  form: formReducer\r\n})\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)))\r\n\r\nexport default store","import './index.css';\nimport reportWebVitals from './reportWebVitals';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport store from './redux/store'\nimport { Provider } from 'react-redux'\n\n\nlet rerenderEntireTree = () => {\n  ReactDOM.render(\n    <React.StrictMode>\n      <Provider store={store}>\n        <App />\n      </Provider>\n    </React.StrictMode>,\n    document.getElementById('root')\n  );\n}\n\nrerenderEntireTree()\n\nstore.subscribe(() => {\n  rerenderEntireTree()\n})\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__AMoNq\",\"menu\":\"Navbar_menu__3qTeN\",\"activeLink\":\"Navbar_activeLink__2oNgc\"};","export const required = value => {\r\n  if (value) return undefined\r\n  return 'Field is required'\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n  if (value.length > maxLength) return `Max length > ${maxLength}`\r\n  return undefined\r\n}","import styles from './FormsControls.module.css'\r\n\r\nexport const Textarea = ({input, meta, ...props}) => {\r\n    const hasError = meta.touched && meta.error\r\n    return (\r\n        <div className={styles.formControl + ' ' + (hasError ? styles.error : '')} >\r\n            <textarea {...input} {...props} />\r\n            { hasError && <span>{meta.error}</span> }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Input = ({input, meta, ...props}) => {\r\n    const hasError = meta.touched && meta.error\r\n    return (\r\n        <div className={styles.formControl + ' ' + (hasError ? styles.error : '')} >\r\n            <input {...input} {...props} />\r\n            { hasError && <span>{meta.error}</span> }\r\n        </div>\r\n    )\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__27sC3\",\"error\":\"FormsControls_error__WZN6b\"};","import { usersAPI } from \"../api/api\"\r\n\r\nconst SET_USERS = 'SET_USERS'\r\nconst FOLLOW_TOGGLE = 'FOLLOW_TOGGLE'\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE'\r\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT'\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING'\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE-IS-FOLLOWING-PROGRESS'\r\n\r\nlet initialState = {\r\n  users: [],\r\n  pageSize: 100,\r\n  totalUsersCount: 0,\r\n  currentPage: 1,\r\n  isFetching: true,\r\n  isFollowing: []\r\n}\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_USERS: {\r\n      return {\r\n        ...state,\r\n        users: [...action.users]\r\n      }\r\n    }\r\n\r\n    case FOLLOW_TOGGLE: {\r\n      return {\r\n        ...state,\r\n        users: state.users.map(u => {\r\n          if (u.id === action.userID) {\r\n            if (u.followed) {\r\n              return { ...u, followed: false }\r\n            }\r\n            else {\r\n              return { ...u, followed: true }\r\n            }\r\n          }\r\n          return u\r\n        })\r\n      }\r\n    }\r\n\r\n    case SET_CURRENT_PAGE: {\r\n      return {\r\n        ...state,\r\n        currentPage: action.currentPage\r\n      }\r\n    }\r\n\r\n    case SET_TOTAL_USERS_COUNT: {\r\n      return {\r\n        ...state,\r\n        totalUsersCount: action.totalCount\r\n      }\r\n    }\r\n\r\n    case TOGGLE_IS_FETCHING: {\r\n      return {\r\n        ...state,\r\n        isFetching: action.isFetching\r\n      }\r\n    }\r\n\r\n    case TOGGLE_IS_FOLLOWING_PROGRESS: {\r\n      return {\r\n        ...state,\r\n        isFollowing: action.isFollowing\r\n          ? [...state.isFollowing, action.userID]\r\n          : state.isFollowing.filter(id => id !== action.userID)\r\n      }\r\n    }\r\n\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport const followToggle = (userID) => ({ type: FOLLOW_TOGGLE, userID })\r\nexport const setUsers = (users) => ({ type: SET_USERS, users })\r\nexport const setCurrentPage = (currentPage) => ({ type: SET_CURRENT_PAGE, currentPage })\r\nexport const setTotalUsersCount = (totalCount) => ({ type: SET_TOTAL_USERS_COUNT, totalCount })\r\nexport const toggleIsFetching = (isFetching) => ({ type: TOGGLE_IS_FETCHING, isFetching })\r\nexport const toggleIsFollowing = (isFollowing, userID) => ({ type: TOGGLE_IS_FOLLOWING_PROGRESS, isFollowing, userID })\r\n\r\nexport const getUsers = (currentPage, pageSize) => {\r\n  return dispatch => {\r\n    dispatch(toggleIsFetching(true))\r\n    usersAPI.getUsers(currentPage, pageSize).then(data => {\r\n      dispatch(toggleIsFetching(false))\r\n      dispatch(setUsers(data.items))\r\n      dispatch(setTotalUsersCount(data.totalCount))\r\n      dispatch(setCurrentPage(currentPage))\r\n    })\r\n  }\r\n}\r\n\r\nexport const setFollowOrUnfollow = (id) => {\r\n  return async dispatch => {\r\n    dispatch(toggleIsFollowing(true, id))\r\n    let response = await usersAPI.getFollowedFlag(id)\r\n    if (response === false) {\r\n      let followedResponse = await usersAPI.follow(id)\r\n      if (followedResponse.resultCode === 0) {\r\n        dispatch(followToggle(id))\r\n      }\r\n    } else {\r\n      let followedResponse = await usersAPI.unFollow(id)\r\n      if (followedResponse.resultCode === 0) {\r\n        dispatch(followToggle(id))\r\n      }\r\n    }\r\n    dispatch(toggleIsFollowing(false, id))\r\n  }\r\n}\r\n\r\nexport default usersReducer","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"ProfileInfo_wrapper__1A58i\",\"name\":\"ProfileInfo_name__1x2vm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__w_4QB\",\"loginBlock\":\"Header_loginBlock__8LJRR\"};"],"sourceRoot":""}